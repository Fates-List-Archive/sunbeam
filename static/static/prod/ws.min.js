var FatesWS=function(a,b,c,d,e){this.id=a;this.token=b;this.sendAll=c;this.sendNone=d;this.bot=e;this.hooks={ready:this.ready,identity:this.identity,fallback:this.fallback,event:this.event};this.websocket=null};
FatesWS.prototype.start=function(){var a=this;this.websocket=new WebSocket("wss://fateslist.xyz/api/dragon/ws");this.websocket.onmessage=function(b){b.data.split("\u001f").forEach(function(c){if(""!=c){c=JSON.parse(c);console.log({json:c},c.code);try{var d=a.hooks[c.code];d?d(a,c):console.log(c.code,"hook not found")}catch(e){console.log(e)}}})}};FatesWS.prototype.ready=function(a,b){console.log(b)};FatesWS.prototype.fallback=function(a,b){console.log(b)};
FatesWS.prototype.identity=function(a,b){console.log(b);b={id:a.id,token:a.token,send_all:a.sendAll,send_none:a.sendNone,bot:a.bot};console.log({identityPayload:b});a.websocket.send(JSON.stringify(b))};FatesWS.prototype.event=function(a,b){console.log(b)};FatesWS.prototype.close=function(a){a||(a=1E3);this.websocket.close(a)};var EventsClass=function(){this.VoteEvent=0;this.ViewEvent=16;this.InviteEvent=17},Events=new EventsClass;
