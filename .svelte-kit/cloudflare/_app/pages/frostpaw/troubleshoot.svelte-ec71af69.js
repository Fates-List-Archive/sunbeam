import{S as C,i as U,s as V,k as H,f as k,d as h,e as w,t as m,j as q,c as y,a as j,g as p,l as J,b as W,F as _,h as E,W as P,Y,H as z,V as B}from"../../chunks/vendor-22677977.js";import{f as D}from"../../chunks/request-2d5483df.js";import{s as G}from"../../chunks/stores-56fb81e3.js";function T(f,e,n){const a=f.slice();return a[5]=e[n],a}function K(f){let e,n=f[5][0]+"",a,t,s=f[5][1]+"",o;return{c(){e=w("li"),a=m(n),t=m(": "),o=m(s)},l(i){e=y(i,"LI",{});var l=j(e);a=p(l,n),t=p(l,": "),o=p(l,s),l.forEach(h)},m(i,l){k(i,e,l),_(e,a),_(e,t),_(e,o)},p(i,l){l&1&&n!==(n=i[5][0]+"")&&E(a,n),l&1&&s!==(s=i[5][1]+"")&&E(o,s)},d(i){i&&h(e)}}}function M(f){let e,n=f[5][0]+"",a,t,s=JSON.stringify(f[5][1])+"",o;return{c(){e=w("li"),a=m(n),t=m(" (Logged in user): "),o=m(s),this.h()},l(i){e=y(i,"LI",{style:!0});var l=j(e);a=p(l,n),t=p(l," (Logged in user): "),o=p(l,s),l.forEach(h),this.h()},h(){B(e,"word-wrap","break-word")},m(i,l){k(i,e,l),_(e,a),_(e,t),_(e,o)},p(i,l){l&1&&n!==(n=i[5][0]+"")&&E(a,n),l&1&&s!==(s=JSON.stringify(i[5][1])+"")&&E(o,s)},d(i){i&&h(e)}}}function A(f){let e;function n(s,o){return s[5][0]=="user"?M:K}let a=n(f),t=a(f);return{c(){t.c(),e=H()},l(s){t.l(s),e=H()},m(s,o){t.m(s,o),k(s,e,o)},p(s,o){a===(a=n(s))&&t?t.p(s,o):(t.d(1),t=a(s),t&&(t.c(),t.m(e.parentNode,e)))},d(s){t.d(s),s&&h(e)}}}function Q(f){let e,n,a,t,s,o,i,l,L,g,S,F=JSON.stringify(f[3])+"",I,b=Object.entries(f[0].data),c=[];for(let r=0;r<b.length;r+=1)c[r]=A(T(f,b,r));return{c(){e=w("h1"),n=m(f[2]),a=q(),t=w("ul");for(let r=0;r<c.length;r+=1)c[r].c();s=q(),o=w("li"),i=m("real_user_agent: "),l=m(f[1]),L=q(),g=w("li"),S=m("session: "),I=m(F),this.h()},l(r){e=y(r,"H1",{});var d=j(e);n=p(d,f[2]),d.forEach(h),a=J(r),t=y(r,"UL",{class:!0});var u=j(t);for(let N=0;N<c.length;N+=1)c[N].l(u);s=J(u),o=y(u,"LI",{});var v=j(o);i=p(v,"real_user_agent: "),l=p(v,f[1]),v.forEach(h),L=J(u),g=y(u,"LI",{});var O=j(g);S=p(O,"session: "),I=p(O,F),O.forEach(h),u.forEach(h),this.h()},h(){W(t,"class","white")},m(r,d){k(r,e,d),_(e,n),k(r,a,d),k(r,t,d);for(let u=0;u<c.length;u+=1)c[u].m(t,null);_(t,s),_(t,o),_(o,i),_(o,l),_(t,L),_(t,g),_(g,S),_(g,I)},p(r,[d]){if(d&4&&E(n,r[2]),d&1){b=Object.entries(r[0].data);let u;for(u=0;u<b.length;u+=1){const v=T(r,b,u);c[u]?c[u].p(v,d):(c[u]=A(v),c[u].c(),c[u].m(t,s))}for(;u<c.length;u+=1)c[u].d(1);c.length=b.length}d&2&&E(l,r[1])},i:P,o:P,d(r){r&&h(e),r&&h(a),r&&h(t),Y(c,r)}}}async function x({params:f,fetch:e,session:n,stuff:a}){const t="/_sunbeam/dm/help",s=await D(t,"",e);return s.ok?{props:{data:await s.json()}}:{status:500,error:new Error(`Sunbeam Troubleshooter could not contact our servers to get required troubleshooting information (${t})`)}}function R(f,e,n){let a;z(f,G,l=>n(4,a=l));let{data:t}=e,s=a,o="Please wait...",i="Please wait, fetching needed information...";return o=navigator.userAgent,i=t.message,f.$$set=l=>{"data"in l&&n(0,t=l.data)},[t,o,i,s]}class ee extends C{constructor(e){super();U(this,e,R,Q,V,{data:0})}}export{ee as default,x as load};
