import{S as u,i as c,s as f,v as m,w as d,x as p,p as l,n as _,A as h}from"../../../chunks/vendor-22677977.js";import{f as $}from"../../../chunks/request-2d5483df.js";import{B as b}from"../../../chunks/BotServerPage-4b9fe93b.js";import"../../../chunks/BristlefrostMeta-4b5eefb5.js";import"../../../chunks/enums-06152dee.js";import"../../../chunks/stores-56fb81e3.js";function g(r){let e,s;return e=new b({props:{data:r[0],type:"bot"}}),{c(){m(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,a){p(e,t,a),s=!0},p(t,[a]){const n={};a&1&&(n.data=t[0]),e.$set(n)},i(t){s||(l(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){h(e,t)}}}const y=!1;async function q({params:r,fetch:e,session:s,stuff:t}){const a=`/api/v2/bots/${r.id}/_sunbeam`;let n="";s.session.user&&(n=`${s.session.user.id}|${s.session.token}`);const o=await $(a,n,e);if(o.ok){let i=await o.json();return{props:{data:i.data,cacheVersion:i.fl_cache_ver}}}return{status:o.status,error:new Error("Bot Not Found")}}function v(r,e,s){let{data:t}=e;return r.$$set=a=>{"data"in a&&s(0,t=a.data)},[t]}class F extends u{constructor(e){super();c(this,e,v,g,f,{data:0})}}export{F as default,q as load,y as prerender};
