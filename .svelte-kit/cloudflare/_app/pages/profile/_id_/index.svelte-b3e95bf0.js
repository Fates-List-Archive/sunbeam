import{S as ye,i as Je,s as Ke,e as E,j as P,c as q,a as U,l as z,d as _,b as p,D as ve,f as m,F as v,G as Oe,t as k,g as B,h as H,v as be,w as ge,x as ke,p as N,n as X,A as Be,k as we,o as Ue,Y as se,H as Qe,X as Re,m as Me}from"../../../chunks/vendor-22677977.js";import{e as Ae}from"../../../chunks/enums-06152dee.js";import{f as We}from"../../../chunks/request-2d5483df.js";import{C as Ze,B as xe}from"../../../chunks/CardContainer-fe7298a5.js";import{s as et}from"../../../chunks/stores-56fb81e3.js";import{B as tt}from"../../../chunks/BristlefrostMeta-4b5eefb5.js";function Pe(o,t,s){const l=o.slice();return l[8]=t[s],l}function ze(o,t,s){const l=o.slice();return l[8]=t[s],l}function De(o,t,s){const l=o.slice();return l[8]=t[s],l}function He(o,t,s){const l=o.slice();return l[8]=t[s],l}function Ne(o,t,s){const l=o.slice();return l[17]=t[s],l}function Se(o){let t,s,l,f,c,a,r,i;function w(){return o[6](o[17])}return{c(){t=E("a"),s=E("img"),c=P(),this.h()},l(b){t=q(b,"A",{class:!0,href:!0});var h=U(t);s=q(h,"IMG",{class:!0,src:!0,width:!0,height:!0,alt:!0}),c=z(h),h.forEach(_),this.h()},h(){p(s,"class","badge-img svelte-kmqn98"),ve(s.src,l=o[17].image)||p(s,"src",l),p(s,"width","50px"),p(s,"height","50px"),p(s,"alt",f=o[17].description),p(t,"class","badge-link svelte-kmqn98"),p(t,"href",a="#")},m(b,h){m(b,t,h),v(t,s),v(t,c),r||(i=Oe(t,"click",w),r=!0)},p(b,h){o=b,h&1&&!ve(s.src,l=o[17].image)&&p(s,"src",l),h&1&&f!==(f=o[17].description)&&p(s,"alt",f)},d(b){b&&_(t),r=!1,i()}}}function Fe(o){let t,s=o[8].bot_id+"",l,f,c=o[8].action_time+"",a;return{c(){t=E("li"),l=k(s),f=k(" - "),a=k(c),this.h()},l(r){t=q(r,"LI",{class:!0});var i=U(t);l=B(i,s),f=B(i," - "),a=B(i,c),i.forEach(_),this.h()},h(){p(t,"class","white")},m(r,i){m(r,t,i),v(t,l),v(t,f),v(t,a)},p(r,i){i&4&&s!==(s=r[8].bot_id+"")&&H(l,s),i&4&&c!==(c=r[8].action_time+"")&&H(a,c)},d(r){r&&_(t)}}}function Ge(o){let t,s=o[8].bot_id+"",l,f,c=o[8].action_time+"",a;return{c(){t=E("li"),l=k(s),f=k(" - "),a=k(c),this.h()},l(r){t=q(r,"LI",{class:!0});var i=U(t);l=B(i,s),f=B(i," - "),a=B(i,c),i.forEach(_),this.h()},h(){p(t,"class","white")},m(r,i){m(r,t,i),v(t,l),v(t,f),v(t,a)},p(r,i){i&8&&s!==(s=r[8].bot_id+"")&&H(l,s),i&8&&c!==(c=r[8].action_time+"")&&H(a,c)},d(r){r&&_(t)}}}function Te(o){let t,s=o[8].bot_id+"",l,f,c=o[8].action_time+"",a;return{c(){t=E("li"),l=k(s),f=k(" - "),a=k(c),this.h()},l(r){t=q(r,"LI",{class:!0});var i=U(t);l=B(i,s),f=B(i," - "),a=B(i,c),i.forEach(_),this.h()},h(){p(t,"class","white")},m(r,i){m(r,t,i),v(t,l),v(t,f),v(t,a)},p(r,i){i&16&&s!==(s=r[8].bot_id+"")&&H(l,s),i&16&&c!==(c=r[8].action_time+"")&&H(a,c)},d(r){r&&_(t)}}}function Ve(o){let t,s;return t=new Re({props:{href:"https://fateslist.xyz/profile/"+o[0].user.id+"/settings",class:"bot-card-actions-link",id:"profiles-center",touch:!0,variant:"outlined",$$slots:{default:[lt]},$$scope:{ctx:o}}}),{c(){be(t.$$.fragment)},l(l){ge(t.$$.fragment,l)},m(l,f){ke(t,l,f),s=!0},p(l,f){const c={};f&1&&(c.href="https://fateslist.xyz/profile/"+l[0].user.id+"/settings"),f&1048576&&(c.$$scope={dirty:f,ctx:l}),t.$set(c)},i(l){s||(N(t.$$.fragment,l),s=!0)},o(l){X(t.$$.fragment,l),s=!1},d(l){Be(t,l)}}}function lt(o){let t;return{c(){t=k("Settings")},l(s){t=B(s,"Settings")},m(s,l){m(s,t,l)},d(s){s&&_(t)}}}function Xe(o){let t,s;return t=new xe({props:{data:o[8],type:"bot",rand:!1}}),{c(){be(t.$$.fragment)},l(l){ge(t.$$.fragment,l)},m(l,f){ke(t,l,f),s=!0},p(l,f){const c={};f&1&&(c.data=l[8]),t.$set(c)},i(l){s||(N(t.$$.fragment,l),s=!0)},o(l){X(t.$$.fragment,l),s=!1},d(l){Be(t,l)}}}function st(o){let t,s,l=o[0].bots,f=[];for(let a=0;a<l.length;a+=1)f[a]=Xe(Pe(o,l,a));const c=a=>X(f[a],1,1,()=>{f[a]=null});return{c(){for(let a=0;a<f.length;a+=1)f[a].c();t=we()},l(a){for(let r=0;r<f.length;r+=1)f[r].l(a);t=we()},m(a,r){for(let i=0;i<f.length;i+=1)f[i].m(a,r);m(a,t,r),s=!0},p(a,r){if(r&1){l=a[0].bots;let i;for(i=0;i<l.length;i+=1){const w=Pe(a,l,i);f[i]?(f[i].p(w,r),N(f[i],1)):(f[i]=Xe(w),f[i].c(),N(f[i],1),f[i].m(t.parentNode,t))}for(Me(),i=l.length;i<f.length;i+=1)c(i);Ue()}},i(a){if(!s){for(let r=0;r<l.length;r+=1)N(f[r]);s=!0}},o(a){f=f.filter(Boolean);for(let r=0;r<f.length;r+=1)X(f[r]);s=!1},d(a){se(f,a),a&&_(t)}}}function Ye(o){let t,s,l,f,c,a;return{c(){t=E("p"),s=k("Click "),l=E("a"),f=k("here"),a=k(" to show system bots as well!"),this.h()},l(r){t=q(r,"P",{});var i=U(t);s=B(i,"Click "),l=q(i,"A",{href:!0});var w=U(l);f=B(w,"here"),w.forEach(_),a=B(i," to show system bots as well!"),i.forEach(_),this.h()},h(){p(l,"href",c="/profile/"+o[0].user.id+"?system_bots=true")},m(r,i){m(r,t,i),v(t,s),v(t,l),v(l,f),v(t,a)},p(r,i){i&1&&c!==(c="/profile/"+r[0].user.id+"?system_bots=true")&&p(l,"href",c)},d(r){r&&_(t)}}}function it(o){let t,s,l,f,c,a,r,i=o[0].user.username+"",w,b,h,ie=o[0].profile.description.replace("p>","span>")+"",re,S,oe,F,Ee,x=o[2].length+"",fe,ae,Y,ne,G,qe,ee=o[3].length+"",ue,ce,y,_e,T,$e,te=o[4].length+"",he,me,J,pe,K,V,de,O,D;t=new tt({props:{url:"https://fateslist.xyz/profile/"+o[0].user.id,title:o[0].user.username,description:o[0].profile.description,thumbnail:o[0].user.avatar}});let Q=o[0].profile.badges,$=[];for(let e=0;e<Q.length;e+=1)$[e]=Se(Ne(o,Q,e));let R=o[2],C=[];for(let e=0;e<R.length;e+=1)C[e]=Fe(He(o,R,e));let W=o[3],j=[];for(let e=0;e<W.length;e+=1)j[e]=Ge(De(o,W,e));let Z=o[4],A=[];for(let e=0;e<Z.length;e+=1)A[e]=Te(ze(o,Z,e));let g=o[5]&&Ve(o);V=new Ze({props:{$$slots:{default:[st]},$$scope:{ctx:o}}});let L=!o[1]&&Ye(o);return{c(){be(t.$$.fragment),s=P(),l=E("img"),a=P(),r=E("h2"),w=k(i),b=P(),h=E("p"),re=P(),S=E("div");for(let e=0;e<$.length;e+=1)$[e].c();oe=P(),F=E("p"),Ee=k("Approved Bots: "),fe=k(x),ae=P(),Y=E("ul");for(let e=0;e<C.length;e+=1)C[e].c();ne=P(),G=E("p"),qe=k("Denied Bots: "),ue=k(ee),ce=P(),y=E("ul");for(let e=0;e<j.length;e+=1)j[e].c();_e=P(),T=E("p"),$e=k("Certified Bots: "),he=k(te),me=P(),J=E("ul");for(let e=0;e<A.length;e+=1)A[e].c();pe=P(),g&&g.c(),K=P(),be(V.$$.fragment),de=P(),L&&L.c(),O=we(),this.h()},l(e){ge(t.$$.fragment,e),s=z(e),l=q(e,"IMG",{class:!0,loading:!0,src:!0,id:!0,alt:!0}),a=z(e),r=q(e,"H2",{class:!0,id:!0});var n=U(r);w=B(n,i),n.forEach(_),b=z(e),h=q(e,"P",{id:!0,class:!0});var d=U(h);d.forEach(_),re=z(e),S=q(e,"DIV",{class:!0});var le=U(S);for(let I=0;I<$.length;I+=1)$[I].l(le);le.forEach(_),oe=z(e),F=q(e,"P",{class:!0});var u=U(F);Ee=B(u,"Approved Bots: "),fe=B(u,x),u.forEach(_),ae=z(e),Y=q(e,"UL",{});var M=U(Y);for(let I=0;I<C.length;I+=1)C[I].l(M);M.forEach(_),ne=z(e),G=q(e,"P",{class:!0});var Ce=U(G);qe=B(Ce,"Denied Bots: "),ue=B(Ce,ee),Ce.forEach(_),ce=z(e),y=q(e,"UL",{});var Le=U(y);for(let I=0;I<j.length;I+=1)j[I].l(Le);Le.forEach(_),_e=z(e),T=q(e,"P",{class:!0});var je=U(T);$e=B(je,"Certified Bots: "),he=B(je,te),je.forEach(_),me=z(e),J=q(e,"UL",{});var Ie=U(J);for(let I=0;I<A.length;I+=1)A[I].l(Ie);Ie.forEach(_),pe=z(e),g&&g.l(e),K=z(e),ge(V.$$.fragment,e),de=z(e),L&&L.l(e),O=we(),this.h()},h(){p(l,"class","user-avatar svelte-kmqn98"),p(l,"loading","lazy"),ve(l.src,f=o[0].user.avatar.replace(".png",".webp").replace("width=","width=120px"))||p(l,"src",f),p(l,"id","user-avatar"),p(l,"alt",c=""+(o[0].user.username+"'s avatar")),p(r,"class","white user-username svelte-kmqn98"),p(r,"id","user-name"),p(h,"id","user-description"),p(h,"class","svelte-kmqn98"),p(S,"class","badges svelte-kmqn98"),p(F,"class","bot-action-log svelte-kmqn98"),p(G,"class","bot-action-log svelte-kmqn98"),p(T,"class","bot-action-log svelte-kmqn98")},m(e,n){ke(t,e,n),m(e,s,n),m(e,l,n),m(e,a,n),m(e,r,n),v(r,w),m(e,b,n),m(e,h,n),h.innerHTML=ie,m(e,re,n),m(e,S,n);for(let d=0;d<$.length;d+=1)$[d].m(S,null);m(e,oe,n),m(e,F,n),v(F,Ee),v(F,fe),m(e,ae,n),m(e,Y,n);for(let d=0;d<C.length;d+=1)C[d].m(Y,null);m(e,ne,n),m(e,G,n),v(G,qe),v(G,ue),m(e,ce,n),m(e,y,n);for(let d=0;d<j.length;d+=1)j[d].m(y,null);m(e,_e,n),m(e,T,n),v(T,$e),v(T,he),m(e,me,n),m(e,J,n);for(let d=0;d<A.length;d+=1)A[d].m(J,null);m(e,pe,n),g&&g.m(e,n),m(e,K,n),ke(V,e,n),m(e,de,n),L&&L.m(e,n),m(e,O,n),D=!0},p(e,[n]){const d={};if(n&1&&(d.url="https://fateslist.xyz/profile/"+e[0].user.id),n&1&&(d.title=e[0].user.username),n&1&&(d.description=e[0].profile.description),n&1&&(d.thumbnail=e[0].user.avatar),t.$set(d),(!D||n&1&&!ve(l.src,f=e[0].user.avatar.replace(".png",".webp").replace("width=","width=120px")))&&p(l,"src",f),(!D||n&1&&c!==(c=""+(e[0].user.username+"'s avatar")))&&p(l,"alt",c),(!D||n&1)&&i!==(i=e[0].user.username+"")&&H(w,i),(!D||n&1)&&ie!==(ie=e[0].profile.description.replace("p>","span>")+"")&&(h.innerHTML=ie),n&1){Q=e[0].profile.badges;let u;for(u=0;u<Q.length;u+=1){const M=Ne(e,Q,u);$[u]?$[u].p(M,n):($[u]=Se(M),$[u].c(),$[u].m(S,null))}for(;u<$.length;u+=1)$[u].d(1);$.length=Q.length}if((!D||n&4)&&x!==(x=e[2].length+"")&&H(fe,x),n&4){R=e[2];let u;for(u=0;u<R.length;u+=1){const M=He(e,R,u);C[u]?C[u].p(M,n):(C[u]=Fe(M),C[u].c(),C[u].m(Y,null))}for(;u<C.length;u+=1)C[u].d(1);C.length=R.length}if((!D||n&8)&&ee!==(ee=e[3].length+"")&&H(ue,ee),n&8){W=e[3];let u;for(u=0;u<W.length;u+=1){const M=De(e,W,u);j[u]?j[u].p(M,n):(j[u]=Ge(M),j[u].c(),j[u].m(y,null))}for(;u<j.length;u+=1)j[u].d(1);j.length=W.length}if((!D||n&16)&&te!==(te=e[4].length+"")&&H(he,te),n&16){Z=e[4];let u;for(u=0;u<Z.length;u+=1){const M=ze(e,Z,u);A[u]?A[u].p(M,n):(A[u]=Te(M),A[u].c(),A[u].m(J,null))}for(;u<A.length;u+=1)A[u].d(1);A.length=Z.length}e[5]?g?(g.p(e,n),n&32&&N(g,1)):(g=Ve(e),g.c(),N(g,1),g.m(K.parentNode,K)):g&&(Me(),X(g,1,1,()=>{g=null}),Ue());const le={};n&1048577&&(le.$$scope={dirty:n,ctx:e}),V.$set(le),e[1]?L&&(L.d(1),L=null):L?L.p(e,n):(L=Ye(e),L.c(),L.m(O.parentNode,O))},i(e){D||(N(t.$$.fragment,e),N(g),N(V.$$.fragment,e),D=!0)},o(e){X(t.$$.fragment,e),X(g),X(V.$$.fragment,e),D=!1},d(e){Be(t,e),e&&_(s),e&&_(l),e&&_(a),e&&_(r),e&&_(b),e&&_(h),e&&_(re),e&&_(S),se($,e),e&&_(oe),e&&_(F),e&&_(ae),e&&_(Y),se(C,e),e&&_(ne),e&&_(G),e&&_(ce),e&&_(y),se(j,e),e&&_(_e),e&&_(T),e&&_(me),e&&_(J),se(A,e),e&&_(pe),g&&g.d(e),e&&_(K),Be(V,e),e&&_(de),L&&L.d(e),e&&_(O)}}}const _t=!1;async function ht({params:o,fetch:t,session:s,stuff:l}){let f=`/api/v2/users/${o.id}?bot_logs=true`;s.query.system_bots=="true"&&(f+="&system_bots=true");const c=await We(f,"",t);if(c.ok){let a=await c.json(),r=a.profile.bot_logs.filter(b=>b.action==Ae.UserBotAction.approve),i=a.profile.bot_logs.filter(b=>b.action==Ae.UserBotAction.deny),w=a.profile.bot_logs.filter(b=>b.action==Ae.UserBotAction.certify);return{props:{data:a,systemBots:s.query.system_bots=="true",approvedBots:r,deniedBots:i,certifiedBots:w}}}return{status:c.status,error:new Error("Profile Not Found")}}function rt(o,t,s){let l;Qe(o,et,h=>s(7,l=h));let f=!1;l.session.user&&(f=!0);let{data:c}=t,{systemBots:a}=t,{approvedBots:r}=t,{deniedBots:i}=t,{certifiedBots:w}=t;const b=h=>alert(h.description);return o.$$set=h=>{"data"in h&&s(0,c=h.data),"systemBots"in h&&s(1,a=h.systemBots),"approvedBots"in h&&s(2,r=h.approvedBots),"deniedBots"in h&&s(3,i=h.deniedBots),"certifiedBots"in h&&s(4,w=h.certifiedBots)},[c,a,r,i,w,f,b]}class mt extends ye{constructor(t){super();Je(this,t,rt,it,Ke,{data:0,systemBots:1,approvedBots:2,deniedBots:3,certifiedBots:4})}}export{mt as default,ht as load,_t as prerender};
