import{S as a,i as o,s as u}from"../../../chunks/vendor-22677977.js";const f=!1;async function p({params:s,fetch:t,session:e,stuff:l}){let n="";e.session.user&&(n=`${e.session.user.id}|${e.session.token}`);let r=await t(`https://api.fateslist.xyz/api/v2/guilds/${s.id}/_sunbeam/invite`,{method:"GET",headers:{Frostpaw:"0.1.0","Frostpaw-Auth":n}}),i=await r.json();return r.ok?{status:307,redirect:i.invite}:{status:400,error:new Error(i.reason)}}class c extends a{constructor(t){super();o(this,t,null,null,u,{})}}export{c as default,p as load,f as prerender};
