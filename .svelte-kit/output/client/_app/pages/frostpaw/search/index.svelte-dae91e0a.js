import{S as D,i as G,s as J,v as b,j as q,e as E,t as A,w,l as k,c as H,a as L,g as I,d as u,b as M,x as T,f as v,F as S,p as _,n as d,A as j,k as O,m as K,o as P,Y as Q}from"../../../chunks/vendor-22677977.js";import{f as R}from"../../../chunks/request-2d5483df.js";import{C as V,B as W}from"../../../chunks/CardContainer-fe7298a5.js";import{S as X,T as Z}from"../../../chunks/Tag-6f90ee50.js";import{B as x}from"../../../chunks/BristlefrostMeta-4b5eefb5.js";import"../../../chunks/enums-06152dee.js";function U(n,a,o){const s=n.slice();return s[3]=a[o],s}function Y(n){let a,o;return a=new W({props:{data:n[3],type:n[1],rand:!1}}),{c(){b(a.$$.fragment)},l(s){w(a.$$.fragment,s)},m(s,t){T(a,s,t),o=!0},p(s,t){const c={};t&1&&(c.data=s[3]),t&2&&(c.type=s[1]),a.$set(c)},i(s){o||(_(a.$$.fragment,s),o=!0)},o(s){d(a.$$.fragment,s),o=!1},d(s){j(a,s)}}}function ee(n){let a,o,s=n[0].search_res,t=[];for(let r=0;r<s.length;r+=1)t[r]=Y(U(n,s,r));const c=r=>d(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();a=O()},l(r){for(let l=0;l<t.length;l+=1)t[l].l(r);a=O()},m(r,l){for(let i=0;i<t.length;i+=1)t[i].m(r,l);v(r,a,l),o=!0},p(r,l){if(l&3){s=r[0].search_res;let i;for(i=0;i<s.length;i+=1){const g=U(r,s,i);t[i]?(t[i].p(g,l),_(t[i],1)):(t[i]=Y(g),t[i].c(),_(t[i],1),t[i].m(a.parentNode,a))}for(K(),i=s.length;i<t.length;i+=1)c(i);P()}},i(r){if(!o){for(let l=0;l<s.length;l+=1)_(t[l]);o=!0}},o(r){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)d(t[l]);o=!1},d(r){Q(t,r),r&&u(a)}}}function te(n){let a,o,s,t,c,r,l,i,g,m,C,h,F,p,B;return a=new x({props:{url:"https://fateslist.xyz/frostpaw/search?q="+n[2]+"&target_type="+n[1],title:"Search results for "+n[1]+"s matching "+n[2],description:"Find, invite and discover the best "+n[1]+"s matching "+n[2],thumbnail:"https://fateslist.xyz/static/botlisticon.webp"}}),m=new X({props:{type:n[1],query:n[2]}}),h=new Z({props:{targetType:n[1],tags:n[0].tags_fixed}}),p=new V({props:{$$slots:{default:[ee]},$$scope:{ctx:n}}}),{c(){b(a.$$.fragment),o=q(),s=E("section"),t=E("h1"),c=A("Fates List"),r=q(),l=E("h2"),i=A("Find the best bots for your servers!"),g=q(),b(m.$$.fragment),C=q(),b(h.$$.fragment),F=q(),b(p.$$.fragment),this.h()},l(e){w(a.$$.fragment,e),o=k(e),s=H(e,"SECTION",{class:!0});var f=L(s);t=H(f,"H1",{class:!0});var $=L(t);c=I($,"Fates List"),$.forEach(u),r=k(f),l=H(f,"H2",{class:!0});var y=L(l);i=I(y,"Find the best bots for your servers!"),y.forEach(u),f.forEach(u),g=k(e),w(m.$$.fragment,e),C=k(e),w(h.$$.fragment,e),F=k(e),w(p.$$.fragment,e),this.h()},h(){M(t,"class","svelte-vvwszp"),M(l,"class","best-bots svelte-vvwszp"),M(s,"class","svelte-vvwszp")},m(e,f){T(a,e,f),v(e,o,f),v(e,s,f),S(s,t),S(t,c),S(s,r),S(s,l),S(l,i),v(e,g,f),T(m,e,f),v(e,C,f),T(h,e,f),v(e,F,f),T(p,e,f),B=!0},p(e,[f]){const $={};f&6&&($.url="https://fateslist.xyz/frostpaw/search?q="+e[2]+"&target_type="+e[1]),f&6&&($.title="Search results for "+e[1]+"s matching "+e[2]),f&6&&($.description="Find, invite and discover the best "+e[1]+"s matching "+e[2]),a.$set($);const y={};f&2&&(y.type=e[1]),f&4&&(y.query=e[2]),m.$set(y);const z={};f&2&&(z.targetType=e[1]),f&1&&(z.tags=e[0].tags_fixed),h.$set(z);const N={};f&67&&(N.$$scope={dirty:f,ctx:e}),p.$set(N)},i(e){B||(_(a.$$.fragment,e),_(m.$$.fragment,e),_(h.$$.fragment,e),_(p.$$.fragment,e),B=!0)},o(e){d(a.$$.fragment,e),d(m.$$.fragment,e),d(h.$$.fragment,e),d(p.$$.fragment,e),B=!1},d(e){j(a,e),e&&u(o),e&&u(s),e&&u(g),j(m,e),e&&u(C),j(h,e),e&&u(F),j(p,e)}}}const ie=!1;async function ce({session:n,fetch:a}){let o=n.query.q,s=n.query.target_type;console.log(o);const t=`/api/v2/search?target_type=${s}&q=${o}`,c=await R(t,"",a);return c.ok?{props:{data:await c.json(),targetType:s,query:o}}:{status:c.status,error:new Error("Search Error")}}function se(n,a,o){let{data:s}=a,{targetType:t}=a,{query:c}=a;return n.$$set=r=>{"data"in r&&o(0,s=r.data),"targetType"in r&&o(1,t=r.targetType),"query"in r&&o(2,c=r.query)},[s,t,c]}class ue extends D{constructor(a){super();G(this,a,se,te,J,{data:0,targetType:1,query:2})}}export{ue as default,ce as load,ie as prerender};
