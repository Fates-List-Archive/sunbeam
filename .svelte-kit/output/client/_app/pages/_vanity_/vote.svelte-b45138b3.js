import{S as m,i as d,s as g,v,w as _,x as y,p as h,n as j,A as k}from"../../chunks/vendor-22677977.js";import{f}from"../../chunks/request-2d5483df.js";import{B as w}from"../../chunks/BotServerVotePage-4f993575.js";import"../../chunks/BristlefrostMeta-4b5eefb5.js";import"../../chunks/enums-06152dee.js";import"../../chunks/stores-56fb81e3.js";function b(r){let e,n;return e=new w({props:{data:r[1],type:r[0]}}),{c(){v(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){y(e,t,s),n=!0},p(t,[s]){const a={};s&2&&(a.data=t[1]),s&1&&(a.type=t[0]),e.$set(a)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}const P=!1;async function x({params:r,fetch:e,session:n,stuff:t}){const s=`/api/v2/code/${r.vanity}`,a=await f(s,"",e);if(a.ok){let i=await a.json(),p=i.redirect,c=i.type;const l=`/api/v2/${c}s/${p}/_sunbeam`,u=await f(l,"",e);if(u.ok){let o=await u.json();return console.log(o),{props:{data:o.data,cacheVersion:o.fl_cache_ver,type:c}}}return{status:a.status,error:new Error("Invalid Vanity")}}return{status:a.status,error:new Error("Invalid Vanity")}}function V(r,e,n){let{data:t}=e,{type:s}=e;return s=="guild"&&(s="server"),r.$$set=a=>{"data"in a&&n(1,t=a.data),"type"in a&&n(0,s=a.type)},[s,t]}class A extends m{constructor(e){super();d(this,e,V,b,g,{data:1,type:0})}}export{A as default,x as load,P as prerender};
